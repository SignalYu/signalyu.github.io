<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Linux 参考手册（Centos 9 Stream） | 信一的博客</title>
<meta name="keywords" content="工程与技术, Tech, Linux">
<meta name="description" content="用户管理 软件安装 yum 和 dnf yum (Yellowdog Updater, Modified) 和 dnf (Dandified Yum) 都是基于 Red Hat 的 Linux 发行版的包管理工具。dnf 是 yum 管理工具的增强版，centos 8 及后续版本采用 dnf 为 软件包管理工具。 dnf 常用命令如下： 更新所有 package：sudo dnf update 安装 package：sudo dnf install package_name 移除一个 package：sudo dnf remove package_name 列出已安装的 package：dnf list installed 查找指定的 package：dnf search package_naem 安装 MySQL 更新所有已安装的 package： $ sudo dnf update 安装 mysql-server： $ sudo dnf install mysql-server -y 启动 mysqld 服务查看其状态： $ sudo systemctl start mysqld # 允许机器启动时自动启动 mysqld $ sudo systemctl enable mysqld Created symlink /etc/systemd/system/multi-user.">
<meta name="author" content="Signal Yu">
<link rel="canonical" href="https://signalyu.github.io/posts/4-engineering-and-technology/tech/linux/1-centos-linux-manual/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.9ddf6c021b47a5a861a7c6af241af938775e0fc65a762930d3a2426fc59e9a5c.css" integrity="sha256-nd9sAhtHpahhp8avJBr5OHdeD8Zadikw06JCb8Wemlw=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://signalyu.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://signalyu.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://signalyu.github.io/favicon-32x32">
<link rel="apple-touch-icon" href="https://signalyu.github.io/apple-touch-icon">
<link rel="mask-icon" href="https://signalyu.github.io/favicon.io">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://signalyu.github.io/posts/4-engineering-and-technology/tech/linux/1-centos-linux-manual/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
  

<meta property="og:title" content="Linux 参考手册（Centos 9 Stream）" />
<meta property="og:description" content="用户管理 软件安装 yum 和 dnf yum (Yellowdog Updater, Modified) 和 dnf (Dandified Yum) 都是基于 Red Hat 的 Linux 发行版的包管理工具。dnf 是 yum 管理工具的增强版，centos 8 及后续版本采用 dnf 为 软件包管理工具。 dnf 常用命令如下： 更新所有 package：sudo dnf update 安装 package：sudo dnf install package_name 移除一个 package：sudo dnf remove package_name 列出已安装的 package：dnf list installed 查找指定的 package：dnf search package_naem 安装 MySQL 更新所有已安装的 package： $ sudo dnf update 安装 mysql-server： $ sudo dnf install mysql-server -y 启动 mysqld 服务查看其状态： $ sudo systemctl start mysqld # 允许机器启动时自动启动 mysqld $ sudo systemctl enable mysqld Created symlink /etc/systemd/system/multi-user." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://signalyu.github.io/posts/4-engineering-and-technology/tech/linux/1-centos-linux-manual/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-06-02T13:30:36+08:00" />
<meta property="article:modified_time" content="2024-06-02T13:30:36+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Linux 参考手册（Centos 9 Stream）"/>
<meta name="twitter:description" content="用户管理 软件安装 yum 和 dnf yum (Yellowdog Updater, Modified) 和 dnf (Dandified Yum) 都是基于 Red Hat 的 Linux 发行版的包管理工具。dnf 是 yum 管理工具的增强版，centos 8 及后续版本采用 dnf 为 软件包管理工具。 dnf 常用命令如下： 更新所有 package：sudo dnf update 安装 package：sudo dnf install package_name 移除一个 package：sudo dnf remove package_name 列出已安装的 package：dnf list installed 查找指定的 package：dnf search package_naem 安装 MySQL 更新所有已安装的 package： $ sudo dnf update 安装 mysql-server： $ sudo dnf install mysql-server -y 启动 mysqld 服务查看其状态： $ sudo systemctl start mysqld # 允许机器启动时自动启动 mysqld $ sudo systemctl enable mysqld Created symlink /etc/systemd/system/multi-user."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://signalyu.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Linux 参考手册（Centos 9 Stream）",
      "item": "https://signalyu.github.io/posts/4-engineering-and-technology/tech/linux/1-centos-linux-manual/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Linux 参考手册（Centos 9 Stream）",
  "name": "Linux 参考手册（Centos 9 Stream）",
  "description": "用户管理 软件安装 yum 和 dnf yum (Yellowdog Updater, Modified) 和 dnf (Dandified Yum) 都是基于 Red Hat 的 Linux 发行版的包管理工具。dnf 是 yum 管理工具的增强版，centos 8 及后续版本采用 dnf 为 软件包管理工具。 dnf 常用命令如下： 更新所有 package：sudo dnf update 安装 package：sudo dnf install package_name 移除一个 package：sudo dnf remove package_name 列出已安装的 package：dnf list installed 查找指定的 package：dnf search package_naem 安装 MySQL 更新所有已安装的 package： $ sudo dnf update 安装 mysql-server： $ sudo dnf install mysql-server -y 启动 mysqld 服务查看其状态： $ sudo systemctl start mysqld # 允许机器启动时自动启动 mysqld $ sudo systemctl enable mysqld Created symlink /etc/systemd/system/multi-user.",
  "keywords": [
    "工程与技术", "Tech", "Linux"
  ],
  "articleBody": "用户管理 软件安装 yum 和 dnf yum (Yellowdog Updater, Modified) 和 dnf (Dandified Yum) 都是基于 Red Hat 的 Linux 发行版的包管理工具。dnf 是 yum 管理工具的增强版，centos 8 及后续版本采用 dnf 为 软件包管理工具。 dnf 常用命令如下： 更新所有 package：sudo dnf update 安装 package：sudo dnf install package_name 移除一个 package：sudo dnf remove package_name 列出已安装的 package：dnf list installed 查找指定的 package：dnf search package_naem 安装 MySQL 更新所有已安装的 package： $ sudo dnf update 安装 mysql-server： $ sudo dnf install mysql-server -y 启动 mysqld 服务查看其状态： $ sudo systemctl start mysqld # 允许机器启动时自动启动 mysqld $ sudo systemctl enable mysqld Created symlink /etc/systemd/system/multi-user.target.wants/mysqld.service → /usr/lib/systemd/system/mysqld.service. # 查看 MySQL 服务状态 $ sudo systemctl status mysqld # 列出所有服务状态 $ sudo systemctl list-units --type=service MySQL 安全设置： $ mysql_secure_installation # 执行 mysql_secure_installation 命令后根据提示设置即可 配置 MySQL 用户和权限： $ mysql -u root -p # 登录 MySQL shell # @'localhost' 表示只允许当前创建的用户从本机连接 MySQL # @'%' 表示允许当前创建的用户从任意主机连接 MySQL # @'192.168.252.140' 表示只允许当前创建的用户从 IP 地址为 192.168.252.140 的主机连接 MySQL $ CREATE USER 'user_name'@'%' IDENTIFIED BY 'user_password'; # 创建时更改 'user_name' 和 'user_password' Query OK, 0 rows affected (0.01 sec) # ON *.* 表示权限的允许范围 # 第一个 * 表示所有数据库 # 第二个 * 表示这些数据库的所有表 # WITH GRANT OPTION 表示允许用户向其他用户授予相同的权限 # 即当前被授予权限的用户可以创建其他用户，并授予他们相同的权限 $ GRANT ALL PRIVILEGES ON *.* TO 'user_name'@'%' WITH GRANT OPTION; Query OK, 0 rows affected (0.00 sec) $ FLUSH PRIVILEGES; # 刷新权限，确保操作生效 Query OK, 0 rows affected (0.00 sec) 配置 MySQL 的配置文件：\n/etc/my.cnf：适用于设置服务器和客户端的全局配置选项 [client] port=3306 socket=/var/lib/mysql/mysql.sock [mysqld] port=3306 datadir=/var/lib/mysql socket=/var/lib/mysql/mysql.sock log-error=/var/log/mysqld.log pid-file=/var/run/mysqld/mysqld.pid /etc/my.cnf.d/client.cnf：适用于设置客户端的配置信息 [client] user=root password=my-secret-password /etc/my.cnf.d/mysql-server.cnf：适用于设置服务器的配置信息 [mysqld] bind-address=0.0.0.0 max_connections=500 default-storage-engine=InnoDB 常用配置如下： bind-address=127.0.0.1 # 不允许远程连接 sql_mode=STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER # 防止创建没有密码的用户 default-character-set=utf8mb4 # 默认字符集 log-error=/var/log/mysql/error.log：错误日志 防火墙配置： $ firewall-cmd --permanent --zone=public --add-service=mysql success $ sudo firewall-cmd --reload success 定期更新 MySQL：sudo dnf update mysql-server\n备份 MySQL 数据库： # 将所有数据库备份到 all_databases_backup.sql 文件中 $ mysqldump -u root -p --all-databases \u003e all_databases_backup.sql # 恢复所有数据库 $ mysql -u root -p \u003c all_databases_backup.sql # 将指定数据库备份到 mydatabase_backup.sql 文件中 $ mysqldump -u root -p mydatabase \u003e mydatabase_backup.sql # 恢复指数据库 $ mysql -u root -p mydatabase \u003c mydatabase_backup.sql 从 IntelliJ 连接 MySQL 前务必关闭 VPN\n安装 Minio $ wget https://dl.min.io/server/minio/release/linux-amd64/archive/minio-20240528171904.0.0-1.x86_64.rpm -O minio.rpm # Minio 官网：https://min.io/docs/minio/linux/operations/install-deploy-manage/deploy-minio-single-node-single-drive.html sudo dnf install minio.rpm -y 创建 systemd 服务文件：需要注意的是，systemd 在检查 /usr/lib/systemd/… 路径之前会先检查 /etc/systemd/...，为避免冲突，应确保 minio.service 文件仅存在 /usr/lib/systemd/system/ 目录内。 $ sudo vim /usr/lib/systemd/system/minio.service [Service] Type=notify WorkingDirectory=/usr/local User=signal # 更改用户名 Group=signal # 更改用户组 点击查看 systemd 服务文件相关知识 “systemd service file” 是 Linux 中用于定义管理服务规则的文件，其核心概念包括 Unit Section、Service Section 和 Install Section。 [Unit] Description=My Web Application After=network.target [Service] Type=simple User=myappuser ExecStart=/usr/bin/myapp Restart=on-failure [Install] WantedBy=multi-user.target Unit Section： Description：服务描述 After：服务在某个服务启动后启动 例：Description=My Web Application 例：After=network.target # 在 network.target 启动后启动\nType：定义服务的启动类型。常见类型包括 simple：默认；立即启动服务。 forking：服务作为后台进程启动。 oneshot：服务只执行一项任务，然后退出。 notify：服务将通知 systemd 其启动完成。 idle：服务将在系统空闲时启动。 例：Type=simple\nUser：指定服务运行的用户 例：User=minioadmin\nExecStart：启动服务的命令 例：ExecStart=/usr/bin/myapp\nRestart：定义服务退出时的重启行为 no：不重启 on-failure：在非零错误状态下（non-zero exit status）重启服务 always：始终重启服务 例子：Restart=always\n知识延伸（exit status）：\n在类 Unix 操作系统中，进程终止时会返回一个数值类型的退出状态码。0 表示成功退出，非 0 表示非正常退出。 常见的退出状态码如下： Exit Status 0: 成功 Exit Status 1: General error. Exit Status 2: Misuse of shell builtins (e.g., unknown command). Exit Status 126: Command invoked cannot execute. Exit Status 127: Command not found. Exit Status 128: Invalid argument to exit. Exit Status 130: Terminated by Control-C (interrupt signal). Exit Status 137: Terminated by kill signal. Exit Status 255: Exit status out of range. 创建环境变量文件： $ sudo vim /etc/default/minio # 配置内容如下： MINIO_ROOT_USER=minioadmin MINIO_ROOT_PASSWORD=minioadmin MINIO_VOLUMES=\"/mnt/data\" MINIO_OPTS=\"--console-address :9001\" 更改 /usr/lib/systemd/system/minio.service 文件中 User 和 Group 为 root： User=root Group=root # 因为 /usr/local/bin/minio 文件执行需要 root 用户 禁用防火墙： $ sudo systemctl stop firewalld $ sudo systemctl disable firewalld # 不禁用防火墙可以使用如下步骤： sudo firewall-cmd --zone=public --add-service=minio --permanent sudo firewall-cmd --reload 从浏览器访问 Minio 前务必关闭 VPN Minio 相关错误 sudo firewall-cmd --check-config Error: INVALID_SERVICE: Zone 'public': 'minio' not among existing services 解决方案： sudo vim /etc/firewalld/services/minio.xml # 添加如何内容后保存退出 \u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e Minio Minio Object Storage sudo firewall-cmd --reload sudo systemctl restart firewalld 安装 Redis sudo dnf update -y sudo dnf install redis -y sudo systemctl enable redis sudo systemctl start redis sudo systemctl status redis sudo vim /etc/redis/redis.conf 安装 Docker 添加 Docker 仓库： sudo dnf config-manager --add-repo=https://download.docker.com/linux/centos/docker-ce.repo sudo dnf repolist -v（可以下载，网速很慢） 下载 Docker CE：sudo dnf install docker-ce 允许开机自启：sudo systemctl enable --now docker 查看状态：sudo systemctl status docker 测试：docker run hello-world vim bash 网络管理 配置静态 IP 设置虚拟机的网络为 NAT：VMware Fusion -\u003e Virtual Machine -\u003e Network Adapter -\u003e NAT 修改虚拟机的网络适配器网络：选中虚拟机 -\u003e CMD+, -\u003e Network -\u003e Share with my Mac 获取子网掩码（Mac 终端）： $ cat /Library/Preferences/VMware\\ Fusion/vmnet8/nat.conf | grep netmask netmask = 255.255.255.0 获取网关（Mac 终端）： $ cat /Library/Preferences/VMware\\ Fusion/vmnet8/nat.conf | grep \"ip =\" ip = 192.168.252.2 获取网络接口名称（Centos 终端）： $ ip a | grep ens 2: ens33: mtu 1500 qdisc fq_codel state UP group default qlen 1000 inet 192.168.252.145/24 brd 192.168.252.255 scope global dynamic noprefixroute ens33 配置静态 IP（Centos 终端）： $ sudo vim /etc/sysconfig//network-scripts/ifcfg-ens33 # 具体配置如下： TYPE=Ethernet NAME=ens33 DEVICE=ens33 BOOTPROTO=static ONBOOT=yes IPADDR=192.168.252.140 NETMASK=255.255.255.0 GATEWAY=192.168.252.2 DNS1=223.5.5.5 重启网络： $ sudo systemctl restart NetworkManager 查看 IP 是否生效： $ ip a # 如果未生效，重启 centos 即可 检验网络： $ ping baidu.com PING baidu.com (39.156.66.10) 56(84) bytes of data. 64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=1 ttl=128 time=47.6 ms 64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=2 ttl=128 time=52.9 ms 64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=3 ttl=128 time=46.1 ms ^C --- baidu.com ping statistics --- 3 packets transmitted, 3 received, 0% packet loss, time 2002ms rtt min/avg/max/mdev = 46.103/48.852/52.875/2.907 ms Firewall firewalld-cmd 是一种动态防火墙管理工具，提供了一种无需重启防火墙即可配置防火墙规则和设置的方法。firewalld-cmd 相关的常用命令如下： $ sudo systemctl start firewalld # 启动防火墙 $ sudo systemctl enable firewalld # 允许开机时自动启动防火墙 $ sudo firewall-cmd --state # 检查防火墙状态 running # firewalld 使用 zone 来定义网络连接或接口的信任级别。 $ sudo firewall-cmd --get-zones # 列出所有的 zone block dmz drop external home internal nm-shared public trusted work $ sudo firewall-cmd --get-active-zone # 获取活跃的 zone public interfaces: ens33 $ sudo firewall-cmd --zone=public --list-all # 列出某个 zone 的所有规则 public (active) target: default icmp-block-inversion: no interfaces: ens33 sources: services: cockpit dhcpv6-client ssh ports: protocols: forward: yes masquerade: no forward-ports: source-ports: icmp-blocks: rich rules: # 添加服务到 zone $ sudo firewall-cmd --zone=public --add-service=mysql # 操作重启后失效 $ sudo firewall-cmd --zone=public --add-service=mysql --permanent # 操作永久有效 # 从 zone 中移除一个服务 $ sudo firewall-cmd --zone=public --remove-service=mysql # 操作重启后失效 $ sudo firewall-cmd --zone=public --remove-service=http --permanent # 操作永久有效 # 添加端口到 zone $ sudo firewall-cmd --zone=public --add-port=8080/tcp # 操作重启后失效 $ sudo firewall-cmd --zone=public --add-port=8080/tcp --permanent # 操作永久有效 # 从 zone 中移除端口 $ sudo firewall-cmd --zone=public --remove-port=8080/tcp # 操作重启后失效 $ sudo firewall-cmd --zone=public --remove-port=8080/tcp --permanent # 操作永久有效 # 对带有 --permanent 参数的操作，需要进行 reload 操作 $ sudo firewall-cmd --reload # firewalld 的 zone 的常见信任级别： # public：用于公共区域，只允许选定的连接。 # trusted：接受所有网络连接。 ",
  "wordCount" : "985",
  "inLanguage": "en",
  "datePublished": "2024-06-02T13:30:36+08:00",
  "dateModified": "2024-06-02T13:30:36+08:00",
  "author":{
    "@type": "Person",
    "name": "Signal Yu"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://signalyu.github.io/posts/4-engineering-and-technology/tech/linux/1-centos-linux-manual/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "信一的博客",
    "logo": {
      "@type": "ImageObject",
      "url": "https://signalyu.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://signalyu.github.io/" accesskey="h" title="信一的博客 (Alt + H)">
                <img src="https://signalyu.github.io/apple-touch-icon.png" alt="" aria-label="logo"
                    height="40">信一的博客</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://signalyu.github.io/archives/" title="档案">
                    <span>档案</span>
                </a>
            </li>
            <li>
                <a href="https://signalyu.github.io/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://signalyu.github.io/search/" title="搜索 (Alt &#43; /)" accesskey=/>
                    <span>搜索</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://signalyu.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://signalyu.github.io/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Linux 参考手册（Centos 9 Stream）
    </h1>
    <div class="post-meta"><span title='2024-06-02 13:30:36 +0800 HKT'>2024年6月2日</span>&nbsp;·&nbsp;Signal Yu

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
            
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e7%94%a8%e6%88%b7%e7%ae%a1%e7%90%86" aria-label="用户管理">用户管理</a></li>
                <li>
                    <a href="#%e8%bd%af%e4%bb%b6%e5%ae%89%e8%a3%85" aria-label="软件安装">软件安装</a><ul>
                        
                <li>
                    <a href="#yum-%e5%92%8c-dnf" aria-label="yum 和 dnf">yum 和 dnf</a></li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-mysql" aria-label="安装 MySQL">安装 MySQL</a></li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-minio" aria-label="安装 Minio">安装 Minio</a><ul>
                        
                <li>
                    <a href="#minio-%e7%9b%b8%e5%85%b3%e9%94%99%e8%af%af" aria-label="Minio 相关错误">Minio 相关错误</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-redis" aria-label="安装 Redis">安装 Redis</a></li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-docker" aria-label="安装 Docker">安装 Docker</a></li></ul>
                </li>
                <li>
                    <a href="#vim" aria-label="vim">vim</a></li>
                <li>
                    <a href="#bash" aria-label="bash">bash</a></li>
                <li>
                    <a href="#%e7%bd%91%e7%bb%9c%e7%ae%a1%e7%90%86" aria-label="网络管理">网络管理</a><ul>
                        
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae%e9%9d%99%e6%80%81-ip" aria-label="配置静态 IP">配置静态 IP</a></li></ul>
                </li>
                <li>
                    <a href="#firewall" aria-label="Firewall">Firewall</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="用户管理">用户管理<a hidden class="anchor" aria-hidden="true" href="#用户管理">#</a></h1>
<h1 id="软件安装">软件安装<a hidden class="anchor" aria-hidden="true" href="#软件安装">#</a></h1>
<h2 id="yum-和-dnf">yum 和 dnf<a hidden class="anchor" aria-hidden="true" href="#yum-和-dnf">#</a></h2>
<ul>
<li><code>yum (Yellowdog Updater, Modified)</code> 和 <code>dnf (Dandified Yum)</code> 都是基于 Red Hat 的 Linux 发行版的包管理工具。<code>dnf</code> 是 yum 管理工具的增强版，centos 8 及后续版本采用 <code>dnf</code> 为 软件包管理工具。</li>
<li><code>dnf</code> 常用命令如下：
<ul>
<li>更新所有 package：<code>sudo dnf update</code></li>
<li>安装 package：<code>sudo dnf install package_name</code></li>
<li>移除一个 package：<code>sudo dnf remove package_name</code></li>
<li>列出已安装的 package：<code>dnf list installed</code></li>
<li>查找指定的 package：<code>dnf search package_naem</code></li>
</ul>
</li>
</ul>
<h2 id="安装-mysql">安装 MySQL<a hidden class="anchor" aria-hidden="true" href="#安装-mysql">#</a></h2>
<ol>
<li>
<p>更新所有已安装的 package：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ sudo dnf update
</code></pre>
    </div>
</div></p>
</li>
<li>
<p>安装 mysql-server：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ sudo dnf install mysql-server -y
</code></pre>
    </div>
</div></p>
</li>
<li>
<p>启动 mysqld 服务查看其状态：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ sudo systemctl start mysqld

# 允许机器启动时自动启动 mysqld
$ sudo systemctl enable mysqld
Created symlink /etc/systemd/system/multi-user.target.wants/mysqld.service → /usr/lib/systemd/system/mysqld.service.

# 查看 MySQL 服务状态
$ sudo systemctl status mysqld
# 列出所有服务状态
$ sudo systemctl list-units --type=service
</code></pre>
    </div>
</div></p>
</li>
<li>
<p>MySQL 安全设置：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ mysql_secure_installation

# 执行 mysql_secure_installation 命令后根据提示设置即可
</code></pre>
    </div>
</div></p>
</li>
<li>
<p>配置 MySQL 用户和权限：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ mysql -u root -p  # 登录 MySQL shell

# @'localhost' 表示只允许当前创建的用户从本机连接 MySQL
# @'%' 表示允许当前创建的用户从任意主机连接 MySQL
# @'192.168.252.140' 表示只允许当前创建的用户从 IP 地址为 192.168.252.140 的主机连接 MySQL
$ CREATE USER 'user_name'@'%' IDENTIFIED BY 'user_password';  # 创建时更改 'user_name' 和 'user_password'
Query OK, 0 rows affected (0.01 sec)

# ON *.* 表示权限的允许范围
   # 第一个 * 表示所有数据库
   # 第二个 * 表示这些数据库的所有表
# WITH GRANT OPTION 表示允许用户向其他用户授予相同的权限
   # 即当前被授予权限的用户可以创建其他用户，并授予他们相同的权限
$ GRANT ALL PRIVILEGES ON *.* TO 'user_name'@'%' WITH GRANT OPTION;
Query OK, 0 rows affected (0.00 sec)

$ FLUSH PRIVILEGES; # 刷新权限，确保操作生效
Query OK, 0 rows affected (0.00 sec)
</code></pre>
    </div>
</div></p>
</li>
<li>
<p>配置 MySQL 的配置文件：</p>
<ol>
<li><code>/etc/my.cnf</code>：适用于设置服务器和客户端的<strong>全局配置</strong>选项<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >[client]
port=3306
socket=/var/lib/mysql/mysql.sock

[mysqld]
port=3306
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid
</code></pre>
    </div>
</div></li>
<li><code>/etc/my.cnf.d/client.cnf</code>：适用于设置客户端的配置信息<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >[client]
user=root
password=my-secret-password
</code></pre>
    </div>
</div></li>
<li><code>/etc/my.cnf.d/mysql-server.cnf</code>：适用于设置服务器的配置信息<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >[mysqld]
bind-address=0.0.0.0
max_connections=500
default-storage-engine=InnoDB
</code></pre>
    </div>
</div></li>
<li>常用配置如下：
<ul>
<li><code>bind-address=127.0.0.1</code>  # 不允许远程连接</li>
<li><code>sql_mode=STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER</code>  # 防止创建没有密码的用户</li>
<li><code>default-character-set=utf8mb4</code>  # 默认字符集</li>
<li><code>log-error=/var/log/mysql/error.log</code>：错误日志</li>
</ul>
</li>
</ol>
</li>
<li>
<p>防火墙配置：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ firewall-cmd --permanent --zone=public --add-service=mysql
success

$ sudo firewall-cmd --reload
success
</code></pre>
    </div>
</div></p>
</li>
<li>
<p>定期更新 MySQL：<code>sudo dnf update mysql-server</code></p>
</li>
<li>
<p>备份 MySQL 数据库：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" ># 将所有数据库备份到 all_databases_backup.sql 文件中
$ mysqldump -u root -p --all-databases > all_databases_backup.sql
# 恢复所有数据库
$ mysql -u root -p < all_databases_backup.sql

# 将指定数据库备份到 mydatabase_backup.sql 文件中
$ mysqldump -u root -p mydatabase > mydatabase_backup.sql
# 恢复指数据库
$ mysql -u root -p mydatabase < mydatabase_backup.sql
</code></pre>
    </div>
</div></p>
</li>
<li>
<p><strong>从 IntelliJ 连接 MySQL 前务必关闭 VPN</strong></p>
</li>
</ol>
<h2 id="安装-minio">安装 Minio<a hidden class="anchor" aria-hidden="true" href="#安装-minio">#</a></h2>
<ol>
<li><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ wget https://dl.min.io/server/minio/release/linux-amd64/archive/minio-20240528171904.0.0-1.x86_64.rpm -O minio.rpm

# Minio 官网：https://min.io/docs/minio/linux/operations/install-deploy-manage/deploy-minio-single-node-single-drive.html

sudo dnf install minio.rpm -y
</code></pre>
    </div>
</div></li>
<li>创建 <code>systemd</code> 服务文件：需要注意的是，systemd 在检查 /usr/lib/systemd/&hellip; 路径之前会先检查 <code>/etc/systemd/...</code>，为避免冲突，应确保 <code>minio.service</code> 文件仅存在 <code>/usr/lib/systemd/system/</code> 目录内。<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ sudo vim /usr/lib/systemd/system/minio.service
[Service]
Type=notify

WorkingDirectory=/usr/local

User=signal  # 更改用户名
Group=signal  # 更改用户组
</code></pre>
    </div>
</div><head>
    <style>
         
        .collapsibleContainer {
            margin: 20px 0;
        }

        details summary {
            cursor: pointer;
        }

         
        details summary::-webkit-details-marker {
            display: none;
        }
    </style>
</head>

<div class="collapsibleContainer">
    <details>
        <summary>点击查看 systemd 服务文件相关知识</summary>
        <div>
            
<link rel="stylesheet" href="/css/notice.css">


<div class="notice info">
    <ol>
<li>&ldquo;systemd service file&rdquo; 是 Linux 中用于定义管理服务规则的文件，其核心概念包括 Unit Section、Service Section 和 Install Section。</li>
</ol>

</div><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >[Unit]
Description=My Web Application
After=network.target

[Service]
Type=simple
User=myappuser
ExecStart=/usr/bin/myapp
Restart=on-failure

[Install]
WantedBy=multi-user.target
</code></pre>
    </div>
</div>
<link rel="stylesheet" href="/css/notice.css">


<div class="notice info">
    <ol start="2">
<li>Unit Section：
<ul>
<li>Description：服务描述</li>
<li>After：服务在某个服务启动后启动</li>
</ul>
</li>
</ol>
<p>例：Description=My Web Application
例：After=network.target  # 在 network.target 启动后启动</p>
</div>

<link rel="stylesheet" href="/css/notice.css">


<div class="notice info">
    <ol start="3">
<li>Type：定义服务的启动类型。常见类型包括
<ul>
<li>simple：默认；立即启动服务。</li>
<li>forking：服务作为后台进程启动。</li>
<li>oneshot：服务只执行一项任务，然后退出。</li>
<li>notify：服务将通知 systemd 其启动完成。</li>
<li>idle：服务将在系统空闲时启动。</li>
</ul>
</li>
</ol>
<p>例：Type=simple</p>
</div>

<link rel="stylesheet" href="/css/notice.css">


<div class="notice info">
    <ol start="4">
<li>User：指定服务运行的用户</li>
</ol>
<p>例：User=minioadmin</p>
</div>

<link rel="stylesheet" href="/css/notice.css">


<div class="notice info">
    <ol start="5">
<li>ExecStart：启动服务的命令</li>
</ol>
<p>例：ExecStart=/usr/bin/myapp</p>
</div>

<link rel="stylesheet" href="/css/notice.css">


<div class="notice info">
    <ol start="6">
<li>Restart：定义服务退出时的重启行为
<ul>
<li>no：不重启</li>
<li>on-failure：在非零错误状态下（non-zero exit status）重启服务</li>
<li>always：始终重启服务</li>
</ul>
</li>
</ol>
<p>例子：Restart=always</p>
<p>知识延伸（exit status）：</p>
<ol>
<li>在类 Unix 操作系统中，进程终止时会返回一个数值类型的退出状态码。0 表示成功退出，非 0 表示非正常退出。</li>
<li>常见的退出状态码如下：
<ul>
<li>Exit Status 0: 成功</li>
<li>Exit Status 1: General error.</li>
<li>Exit Status 2: Misuse of shell builtins (e.g., unknown command).</li>
<li>Exit Status 126: Command invoked cannot execute.</li>
<li>Exit Status 127: Command not found.</li>
<li>Exit Status 128: Invalid argument to exit.</li>
<li>Exit Status 130: Terminated by Control-C (interrupt signal).</li>
<li>Exit Status 137: Terminated by kill signal.</li>
<li>Exit Status 255: Exit status out of range.</li>
</ul>
</li>
</ol>

</div>

        </div>
    </details>
</div></li>
<li>创建环境变量文件：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ sudo vim /etc/default/minio
# 配置内容如下：
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_VOLUMES="/mnt/data"
MINIO_OPTS="--console-address :9001"
</code></pre>
    </div>
</div></li>
<li>更改 /usr/lib/systemd/system/minio.service 文件中 User 和 Group 为 root：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >User=root
Group=root

# 因为 /usr/local/bin/minio 文件执行需要 root 用户
</code></pre>
    </div>
</div></li>
<li>禁用防火墙：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ sudo systemctl stop firewalld
$ sudo systemctl disable firewalld

# 不禁用防火墙可以使用如下步骤：
sudo firewall-cmd --zone=public --add-service=minio --permanent
sudo firewall-cmd --reload
</code></pre>
    </div>
</div></li>
<li><strong>从浏览器访问 Minio 前务必关闭 VPN</strong></li>
</ol>
<h3 id="minio-相关错误">Minio 相关错误<a hidden class="anchor" aria-hidden="true" href="#minio-相关错误">#</a></h3>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >sudo firewall-cmd --check-config

Error: INVALID_SERVICE: Zone 'public': 'minio' not among existing services
</code></pre>
    </div>
</div>
<p>解决方案：
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >sudo vim /etc/firewalld/services/minio.xml

# 添加如何内容后保存退出
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;service&gt;
  &lt;short&gt;Minio&lt;/short&gt;
  &lt;description&gt;Minio Object Storage&lt;/description&gt;
  &lt;port protocol=&quot;tcp&quot; port=&quot;9000&quot;/&gt;
&lt;/service&gt;

sudo firewall-cmd --reload

sudo systemctl restart firewalld
</code></pre>
    </div>
</div></p>
<h2 id="安装-redis">安装 Redis<a hidden class="anchor" aria-hidden="true" href="#安装-redis">#</a></h2>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >sudo dnf update -y

sudo dnf install redis -y

sudo systemctl enable redis

sudo systemctl start redis

sudo systemctl status redis

sudo vim /etc/redis/redis.conf
</code></pre>
    </div>
</div>
<h2 id="安装-docker">安装 Docker<a hidden class="anchor" aria-hidden="true" href="#安装-docker">#</a></h2>
<ol>
<li>添加 Docker 仓库：
<ul>
<li><code>sudo dnf config-manager --add-repo=https://download.docker.com/linux/centos/docker-ce.repo</code></li>
<li><code>sudo dnf repolist -v</code>（可以下载，网速很慢）</li>
</ul>
</li>
<li>下载 Docker CE：<code>sudo dnf install docker-ce</code></li>
<li>允许开机自启：<code>sudo systemctl enable --now docker</code></li>
<li>查看状态：<code>sudo systemctl status docker</code></li>
<li>测试：<code>docker run hello-world</code></li>
</ol>
<h1 id="vim">vim<a hidden class="anchor" aria-hidden="true" href="#vim">#</a></h1>
<h1 id="bash">bash<a hidden class="anchor" aria-hidden="true" href="#bash">#</a></h1>
<h1 id="网络管理">网络管理<a hidden class="anchor" aria-hidden="true" href="#网络管理">#</a></h1>
<h2 id="配置静态-ip">配置静态 IP<a hidden class="anchor" aria-hidden="true" href="#配置静态-ip">#</a></h2>
<ol>
<li>设置虚拟机的网络为 NAT：<code>VMware Fusion -&gt; Virtual Machine -&gt; Network Adapter -&gt; NAT</code></li>
<li>修改虚拟机的网络适配器网络：<code>选中虚拟机 -&gt; CMD+, -&gt; Network -&gt; Share with my Mac</code></li>
<li>获取子网掩码（Mac 终端）：
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ cat /Library/Preferences/VMware\ Fusion/vmnet8/nat.conf | grep netmask
netmask = 255.255.255.0
</code></pre>
    </div>
</div></li>
<li>获取网关（Mac 终端）：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ cat /Library/Preferences/VMware\ Fusion/vmnet8/nat.conf | grep "ip ="
ip = 192.168.252.2
</code></pre>
    </div>
</div></li>
<li>获取网络接口名称（Centos 终端）：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ ip a | grep ens
2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    inet 192.168.252.145/24 brd 192.168.252.255 scope global dynamic noprefixroute ens33
</code></pre>
    </div>
</div></li>
<li>配置静态 IP（Centos 终端）：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ sudo vim /etc/sysconfig//network-scripts/ifcfg-ens33

# 具体配置如下：
TYPE=Ethernet
NAME=ens33
DEVICE=ens33
BOOTPROTO=static
ONBOOT=yes
IPADDR=192.168.252.140
NETMASK=255.255.255.0
GATEWAY=192.168.252.2
DNS1=223.5.5.5
</code></pre>
    </div>
</div></li>
<li>重启网络：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ sudo systemctl restart NetworkManager
</code></pre>
    </div>
</div></li>
<li>查看 IP 是否生效：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ ip a  # 如果未生效，重启 centos 即可
</code></pre>
    </div>
</div></li>
<li>检验网络：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ ping baidu.com
PING baidu.com (39.156.66.10) 56(84) bytes of data.
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=1 ttl=128 time=47.6 ms
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=2 ttl=128 time=52.9 ms
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=3 ttl=128 time=46.1 ms
^C
--- baidu.com ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2002ms
rtt min/avg/max/mdev = 46.103/48.852/52.875/2.907 ms
</code></pre>
    </div>
</div></li>
</ol>
<h1 id="firewall">Firewall<a hidden class="anchor" aria-hidden="true" href="#firewall">#</a></h1>
<p><code>firewalld-cmd</code> 是一种动态防火墙管理工具，提供了一种无需重启防火墙即可配置防火墙规则和设置的方法。<code>firewalld-cmd</code> 相关的常用命令如下：<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css"
    integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/java.min.js"></script>
<script>hljs.highlightAll();</script>





<div class="code_blocks">
    <div class="code_block active">
        <pre><code class="language-bash" data-lang="bash" >$ sudo systemctl start firewalld  # 启动防火墙

$ sudo systemctl enable firewalld  # 允许开机时自动启动防火墙

$ sudo firewall-cmd --state  # 检查防火墙状态
running

# firewalld 使用 zone 来定义网络连接或接口的信任级别。
$ sudo firewall-cmd --get-zones  # 列出所有的 zone
block dmz drop external home internal nm-shared public trusted work

$ sudo firewall-cmd --get-active-zone  # 获取活跃的 zone
public
  interfaces: ens33

$ sudo firewall-cmd --zone=public --list-all  # 列出某个 zone 的所有规则
public (active)
  target: default
  icmp-block-inversion: no
  interfaces: ens33
  sources: 
  services: cockpit dhcpv6-client ssh
  ports: 
  protocols: 
  forward: yes
  masquerade: no
  forward-ports: 
  source-ports: 
  icmp-blocks: 
  rich rules:

# 添加服务到 zone
$ sudo firewall-cmd --zone=public --add-service=mysql  # 操作重启后失效
$ sudo firewall-cmd --zone=public --add-service=mysql --permanent  # 操作永久有效

# 从 zone 中移除一个服务
$ sudo firewall-cmd --zone=public --remove-service=mysql  # 操作重启后失效
$ sudo firewall-cmd --zone=public --remove-service=http --permanent  # 操作永久有效

# 添加端口到 zone
$ sudo firewall-cmd --zone=public --add-port=8080/tcp  # 操作重启后失效
$ sudo firewall-cmd --zone=public --add-port=8080/tcp --permanent  # 操作永久有效

# 从 zone 中移除端口
$ sudo firewall-cmd --zone=public --remove-port=8080/tcp  # 操作重启后失效
$ sudo firewall-cmd --zone=public --remove-port=8080/tcp --permanent  # 操作永久有效

# 对带有 --permanent 参数的操作，需要进行 reload 操作
$ sudo firewall-cmd --reload

# firewalld 的 zone 的常见信任级别：
   # public：用于公共区域，只允许选定的连接。
   # trusted：接受所有网络连接。
</code></pre>
    </div>
</div></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://signalyu.github.io/tags/%E5%B7%A5%E7%A8%8B%E4%B8%8E%E6%8A%80%E6%9C%AF/">工程与技术</a></li>
      <li><a href="https://signalyu.github.io/tags/tech/">Tech</a></li>
      <li><a href="https://signalyu.github.io/tags/linux/">Linux</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://signalyu.github.io/posts/4-engineering-and-technology/tech/c/1-array-and-pointer-in-c/">
    <span class="title">« 上一页</span>
    
    <br>
    <span>C 语言中的数组与指针</span>
  </a>
  <a class="next" href="https://signalyu.github.io/posts/4-engineering-and-technology/computer-science/dsa/algorithms/1-boyer-moore-voting-algorithm/">
    <span class="title">下一页 »</span>
    
    <br>
    <span>数据结构与算法：投票算法</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://signalyu.github.io/">信一的博客</a></span> · 
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>

</body>
</html>
